;---------------------------------------------------------------------------
;Stand A
[Statedef 200]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 200
sprpriority = 1

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,0
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 10,random%6
channel = 0

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA  
damage = ceil(fvar(9)),1
animtype = Light
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 8,ifelse(var(7)=1,15,10)
guard.pausetime = 8, 10
;--------------------------------------------
getpower = 0,0
givepower = 10,5
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,0
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =10
ground.slidetime =  10
air.hittime  = 10
;--------------------------------------------
guard.slidetime = 9
guard.hittime = 9
airguard.ctrltime = 11
;--------------------------------------------
ground.velocity = -4.5
air.velocity     = -1.5,-6.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+10
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = ifelse(var(7)=1,5,0)
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=200

[State 0]
type = Helper
trigger1 = animelem = 2
pos = 75,-45
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(200)
pos = 10,-40
postype = p2
stateno = 4001
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(200)
pos = 10,-40
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,2.5*1.5,2.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,6*1.5,6)
persistent = 0
ignorehitpause = 1


[State 0]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand B
[Statedef 210]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 210
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,1
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 11,random%3+1
channel = 0

[State 0]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(8) < 0
value = 35,0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA  
damage = ceil(fvar(9)),3
animtype = Medium
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,1
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 14
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-7
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=210

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 4
pos = 40,-70
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(210)
pos = 10,-70
postype = p2
stateno = 4000
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(210)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand C
[Statedef 220]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 220
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
triggerall = anim = 221
trigger1 = animelem = 2
value = 4,2
[State 0]
type = playsnd
triggerall = anim = 221
trigger1 = animelem = 2
value = 12,random%5
channel = 0

[State 0]
type = null
trigger1 = time = [0,6]
trigger1 = command = "holdz"
trigger1 = var(16) := 1
trigger2 = command != "holdz" && time < 2
trigger2 = var(16) := 0
trigger3 = command != "holdz" && time >= 2 && anim = 220
trigger3 = var(16) := 2
[State 0]
type = changeanim
triggerall = var(16) = 0
trigger1 = anim = 220 && animelemtime(2) = 2
value = 221
[State 0]
type = changeanim
triggerall = var(16) = 1
trigger1 = anim = 220 && animtime = 0
value = 221
[State 0]
type = changeanim
triggerall = var(16) = 2
trigger1 = anim = 220 && animelemtime(2) >= 2
value = 221

[State 0]
type = posadd
triggerall = anim = 220
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16
[State 0]
type = posadd
triggerall = anim = 221
trigger1 = animelem = 1 && var(16) != 1
trigger2 = animelem = 2
x = 16

[State 0]
type = Helper
trigger1 = anim = 221 && var(16) = 1
pos = -5,-106
postype = p1
stateno = 4503
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1
[State 0]
type = playsnd
trigger1 = anim = 221 && var(16) = 1
value = 0,11
persistent = 0

[State 200, 1]
type = HitDef
triggerall = anim = 221
triggerall = var(16) != 1
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),3
animtype = Hard
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = -6.5
air.velocity     = -1.5,-7.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=220

[State 200, 1]
type = HitDef
triggerall = anim = 221
triggerall = var(16) = 1
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),4
animtype = Hard
guardflag = MA
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = -6.5
air.velocity     = -1.5,-7.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=220

[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,26*1.5,26)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,57*1.5,57)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,29*1.5,29)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
triggerall = anim = 221
trigger1 = AnimElem = 3
pos = -10,-80
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(220)
pos = 10,-70
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(220)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
triggerall = anim = 221
trigger1 = AnimElem = 4
movetype = I

[State 200, 3]
type = ChangeState
triggerall = anim = 221
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouch A
[Statedef 400]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 400
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 1
value = 4,3
[State 0]
type = playsnd
trigger1 = animelem = 1
value = 10,random%6
channel = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA  
damage = ceil(fvar(9)),0
animtype = Light
guardflag = L
hitflag = MAFD
;--------------------------------------------
pausetime = 8,ifelse(var(7)=1,15,10)
guard.pausetime = 8, 10
;--------------------------------------------
getpower = 0,0
givepower = 10,5
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,3
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =10
ground.slidetime =  10
air.hittime  = 10
;--------------------------------------------
guard.slidetime = 9
guard.hittime = 9
airguard.ctrltime = 11
;--------------------------------------------
ground.velocity = -4.5
air.velocity     = -1.5,-6.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+10
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = ifelse(var(7)=1,5,0)
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=400

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,2.5*1.5,2.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,6*1.5,6)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = movecontact && numtarget(400)
pos = 10,-10
postype = p2
stateno = 4002
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(400)
pos = 10,-10
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch B
[Statedef 410]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 410
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 2
value = 4,1
[State 0]
type = playsnd
trigger1 = animelem = 2
value = 11,random%3+1
channel = 0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 4
attr = C, NA  
damage = ceil(fvar(9)),2
animtype = Medium
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,1
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 13
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-7
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=410

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 3
pos = 0,-45
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(410)
pos = 10,-50
postype = p2
stateno = 4000
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(410)
pos = 10,-50
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch C
[Statedef 420]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 420
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,5
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 12,random%5
channel = 0

[State 0]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 7

[State 200, 1]
type = HitDef
trigger1 = Animelem = 5
attr = C, NA  
damage = ceil(fvar(9))
animtype = Hard
guardflag = L
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,5
guardsound = S3,0
;--------------------------------------------
ground.type = Trip
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
guard.velocity = -6.5
ground.velocity = -1.5,-7.5
air.velocity     = -1.5,-7.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
fall = 0
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=420

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(420)
pos = 10,-10
postype = p2
stateno = 4003
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(420)
pos = 10,-10
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;OTG state
[Statedef 500]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1
facep2 = 1

[State 0]
type = velset
trigger1 = 1
x = 0
y = 0

[State 0]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0]
type = hitfallset
trigger1 = time = 0
value = 0
ignorehitpause = 1
[State 0]
type = hitfallset
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
ignorehitpause = 1

[State 0]
type = SelfState
trigger1 = Time = 0
value = 5000
ctrl = 0

;---------------------------------------------------------------------------
;OTG state Trip
[Statedef 501]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1
facep2 = 1

[State 0]
type = velset
trigger1 = 1
x = 0
y = 0

[State 0]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0]
type = hitfallset
trigger1 = time = 0
value = 0
ignorehitpause = 1
[State 0]
type = hitfallset
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
ignorehitpause = 1

[State 0]
type = SelfState
trigger1 = Time = 0
value = 5070
ctrl = 0

;---------------------------------------------------------------------------
;Jump A
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 600
sprpriority = 1

[State 0]
type = playsnd
triggerall = anim = 600
trigger1 = animelem = 2
value = 4,0
[State 0]
type = playsnd
triggerall = anim = 600
trigger1 = animelem = 2
value = 10,random%6
channel = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElemTime(2) = 0
attr = A, NA  
damage = ceil(fvar(9)),1
animtype = Light
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 8,ifelse(var(7)=1,15,10)
guard.pausetime = 8, 10
;--------------------------------------------
getpower = 0,0
givepower = 10,5
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,0
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =10
ground.slidetime =  10
air.hittime  = 10
;--------------------------------------------
guard.slidetime = 9
guard.hittime = 9
airguard.ctrltime = 11
;--------------------------------------------
ground.velocity = -4.5
air.velocity     = -1.5,-3.25
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+10
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = ifelse(var(7)=1,5,0)
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=600
persistent = 0
[State 200, 1]
type = HitDef
trigger1 = AnimElemTime(2) > 0
attr = A, NA  
damage = ceil(fvar(9)),1
animtype = Light
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 8,ifelse(var(7)=1,15,10)
guard.pausetime = 8, 10
;--------------------------------------------
getpower = 0,0
givepower = 10,5
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,0
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =10
ground.slidetime =  10
air.hittime  = 10
;--------------------------------------------
guard.slidetime = 9
guard.hittime = 9
airguard.ctrltime = 11
;--------------------------------------------
ground.velocity = -4.5
air.velocity     = -1.5,-3.25
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+10
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = ifelse(var(7)=1,5,0)
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=601
persistent = 0

[State 0]
type = Helper
trigger1 = AnimElem = 2
pos = 50,-30
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(600)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4001
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(600)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = movehit && numtarget(601)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4001
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(601)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(600)
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(601)
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(600)
fvar(0) = ifelse(numhelper(6005) != 0,2.5*1.5,2.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(601)
fvar(0) = ifelse(numhelper(6005) != 0,2.5*1.5,2.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(600)
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(600)
fvar(35) = ifelse(numhelper(6005) != 0,6*1.5,6)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(601)
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(601)
fvar(35) = ifelse(numhelper(6005) != 0,6*1.5,6)
persistent = 0
ignorehitpause = 1

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 0]
type = changeanim
triggerall = anim = 600
trigger1 = animtime = 0
value = 690
[State 0]
type = ctrlset
trigger1 = anim = 690
value = 1

;---------------------------------------------------------------------------
;Jump B
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 610
sprpriority = 1

[State 0]
type = playsnd
triggerall = anim = 610
trigger1 = animelem = 2
value = 4,1
[State 0]
type = playsnd
triggerall = anim = 610
trigger1 = animelem = 2
value = 11,random%3+1
channel = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),2
animtype = Medium
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,1
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 13
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-3.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=610

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 3
pos = 0,-40
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(610)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4000
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(610)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 0]
type = changeanim
triggerall = anim = 610
trigger1 = animtime = 0
value = 690
[State 0]
type = ctrlset
trigger1 = anim = 690
value = 1

;---------------------------------------------------------------------------
;Jump C
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 620
sprpriority = 1

[State 0]
type = null
trigger1 = time = [0,6]
trigger1 = command = "holdz"
trigger1 = var(16) := 1
trigger2 = command != "holdz" && time < 2
trigger2 = var(16) := 0
trigger3 = command != "holdz" && time >= 2 && anim = 620
trigger3 = var(16) := 2
[State 0]
type = changeanim
triggerall = var(16) = 0
trigger1 = anim = 620 && animelemtime(2) = 3
value = 621
[State 0]
type = changeanim
triggerall = var(16) = 1
trigger1 = anim = 620 && animtime = 0
value = 621
[State 0]
type = changeanim
triggerall = var(16) = 2
trigger1 = anim = 620 && animelemtime(2) >= 3
value = 621

[State 0]
type = Helper
trigger1 = anim = 621 && var(16) = 1
pos = 1,-105
postype = p1
stateno = 4503
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1
[State 0]
type = playsnd
trigger1 = anim = 621 && var(16) = 1
value = 0,11
persistent = 0

[State 0]
type = playsnd
triggerall = anim = 621
trigger1 = animelem = 2
value = 4,2
[State 0]
type = playsnd
triggerall = anim = 621
trigger1 = animelem = 2
value = 12,random%5
channel = 0

[State 200, 1]
type = HitDef
triggerall = anim = 621
triggerall = var(16) != 1
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),3
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 16
;--------------------------------------------
ground.velocity = -6.5
air.velocity     = -1.5,-3.75
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 7
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=620

[State 200, 1]
type = HitDef
triggerall = anim = 621
triggerall = var(16) = 1
triggerall = enemynear,statetype != A
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),4
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 16
;--------------------------------------------
ground.velocity     = -1.5,10.5
guard.velocity = -6.5
air.velocity     = -1.5,10.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 7
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=2211
[State 200, 1]
type = HitDef
triggerall = anim = 621
triggerall = var(16) = 1
triggerall = enemynear,statetype = A
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),4
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 16
;--------------------------------------------
ground.velocity     = -10.5,10.5
guard.velocity = -6.5
air.velocity     = -10.5,10.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 7
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=2211
p2stateno = 1220

[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,26*1.5,26)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,57*1.5,57)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,29*1.5,29)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
triggerall = anim = 621
trigger1 = AnimElemtime(2) = 1
pos = 10,-60
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(620)
trigger2 = movehit && numtarget(2211)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(620)
trigger2 = moveguarded && numtarget(2211)
pos = 10,-floor(p2dist y)-20
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
triggerall = anim = 621
trigger1 = AnimElem = 4
movetype = I

[State 0]
type = changeanim
triggerall = anim = 621
trigger1 = animtime = 0
value = 690
[State 0]
type = ctrlset
trigger1 = anim = 690
value = 1

;---------------------------------------------------------------------------
;Throw (Throw)
[Statedef 700]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 700
facep2 = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 800,HitDef]
type=HitDef
triggerall = p2stateno != 40 && p2stateno !=52
triggerall = enemynear,statetype != A
triggerall = command != "holdback"
trigger1=AnimElem=2
attr=S, NT
hitflag = M
priority=1, hit
sparkno= S1
sparkxy = -10,-40
hitsound = s0,8
damage = 0
getpower = 0
givepower = 0,0
p1facing = 1
p2facing = 1
p1stateno=701
p2stateno=703
id = 700
guard.dist = 0
kill = 0
[State 800,HitDef]
type=HitDef
triggerall = p2stateno != 40 && p2stateno !=52
triggerall = enemynear,statetype != A
triggerall = command = "holdback"
trigger1=AnimElem=2
attr=S, NT
hitflag = M
priority=1, hit
sparkno= S1
sparkxy = -10,-40
hitsound = s0,8
damage = 0
getpower = 0
givepower = 0,0
p1facing = 1
p2facing = 1
p1stateno=702
p2stateno=704
id = 700
guard.dist = 0
kill = 0

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,3
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 14,random%2
channel = 0

[State 800,ChangeState]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;Throw Fwd
[Statedef 701]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 701
sprpriority = 1
facep2 = 1

[State 0]
type = hitadd
trigger1 = time = 0
value = -1

[State -1]
Type = EnvShake
trigger1 = time = 0
Time  = 5
Ampl  = 2
Freq  = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
pos = 55,-88
anim = 6501
id = 6501
scale = 0.5,0.5
postype = p1
bindtime = 1
angle = random
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0, Explod]
type = Explod
trigger1 = time = 2
pos = 55,-88
anim = 6501
id = 6501
scale = 0.4,0.4
postype = p1
bindtime = 1
angle = random
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0, Explod]
type = Explod
trigger1 = time = 0
pos = (Target,const(size.head.pos.x)) + 60, (Target,const(size.head.pos.y)) - 10
anim = 6500
id = 6500
scale = 0.5,0.5
postype = p1
bindtime = 1
removetime = -2
ontop = 1
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999

[State 0]
type = width
trigger1 = animelemtime(2) < 0 
value = 55

;------------

[State 910, 1]
type = VarSet
trigger1 = Time = 0
fvar(3) = 0

[State 910, 1]
type = VarSet
triggerall = Time <= 12 && !fVar(3)
trigger1 = (Target,Command = "y") && (Target,Command = "z")
trigger2 = (Target,Command = "holdfwd") && (Target,Command = "b")
trigger3 = (Target,Command = "holdfwd") && (Target,Command = "y")
trigger4 = (Target,Command = "a") && (Target,Command = "x")
fvar(3) = 1
[State 910, 1]
type = VarSet
triggerall = enemynear,ailevel != 0; && enemynear,authorname = "Websta"
triggerall = Time <= 12 && !fVar(3)
trigger1 = random = [0,49]
fvar(3) = 1

[State 910, TargetBind]
type = TargetBind
trigger1 = Time <= 12 && FVar(3)
pos = 40, 0

[State 910, ChangeState]
type = ChangeState
trigger1 = Time <= 12 && FVar(3)
value = 750

[State 910, TargetBind]
type = TargetBind
trigger1 = Time <= 12 && FVar(3)
pos = 40, 0
;-----

[State 0]
type = playsnd
trigger1 = time = 13
value = 14,random%2+2
channel = 0

[State 910, TargetBind]
type = TargetBind
trigger1 = animelemtime(3) < 0
pos = 50, 0
[State 910, TargetBind]
type = TargetBind
trigger1 = animelemtime(3) >= 0 && animelemtime(5) < 0
pos = 15, 0
[State 910, TargetBind]
type = TargetBind
trigger1 = animelemtime(5) = 0
pos = 60, 0

[State 0]
type = playsnd
trigger1 = animelem = 5
value = 4,5

[State 200, 1]
type = HitDef
trigger1 = Animelem = 6
attr = S, NA  
damage = 130,0
animtype = Hard
guardflag = 
hitflag = MAFD
;--------------------------------------------
pausetime = 0,4
guard.pausetime = 0,4
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,5
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = -6,-6
air.velocity     = -6,-6
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+4
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=701
p2stateno = 711

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) =ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,62*1.5,62)
persistent = 0
ignorehitpause = 1

[State 0, Explod]
type = null;Explod
trigger1 = movehit && numtarget(701)
pos = 10,-80
anim = 6023+random%2
id = 6023
scale = 1,1
postype = p2
bindtime = 1
angle = random
removetime = -2
sprpriority = 99
ignorehitpause = 1
removeongethit = 1
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 0]
type = Helper
trigger1 = movehit && numtarget(701)
pos = 10,-80
postype = p2
stateno = 4003
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(701)
pos = 10,-80
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Throw Back
[Statedef 702]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 702
facep2 = 1

[State 0]
type = hitadd
trigger1 = time = 0
value = -1

[State -1]
Type = EnvShake
trigger1 = time = 0
Time  = 5
Ampl  = 2
Freq  = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
pos = 50,-85
anim = 6501
id = 6501
scale = 0.5,0.5
postype = p1
bindtime = 1
angle = random
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0, Explod]
type = Explod
trigger1 = time = 2
pos = 50,-85
anim = 6501
id = 6501
scale = 0.4,0.4
postype = p1
bindtime = 1
angle = random
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0, Explod]
type = Explod
trigger1 = time = 0
pos = (Target,const(size.head.pos.x)) + 60, (Target,const(size.head.pos.y)) - 10
anim = 6500
id = 6500
scale = 0.5,0.5
postype = p1
bindtime = 1
removetime = -2
ontop = 1
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999

[State 0]
type = width
trigger1 = animelemtime(2) < 0 
value = 55

[State 0]
type = playsnd
trigger1 = animelem = 2
value = 4,5

;------------

[State 910, 1]
type = VarSet
trigger1 = Time = 0
fvar(3) = 0

[State 910, 1]
type = VarSet
triggerall = Time <= 12 && !fVar(3)
trigger1 = (Target,Command = "y") && (Target,Command = "z")
trigger2 = (Target,Command = "holdfwd") && (Target,Command = "b")
trigger3 = (Target,Command = "holdfwd") && (Target,Command = "y")
trigger4 = (Target,Command = "a") && (Target,Command = "x")
fvar(3) = 1
[State 910, 1]
type = VarSet
triggerall = enemynear,ailevel != 0; && enemynear,authorname = "Websta"
triggerall = Time <= 12 && !fVar(3)
trigger1 = random = [0,49]
fvar(3) = 1

[State 910, TargetBind]
type = TargetBind
trigger1 = Time <= 12 && FVar(3)
pos = 40, 0

[State 910, ChangeState]
type = ChangeState
trigger1 = Time <= 12 && FVar(3)
value = 750

[State 910, TargetBind]
type = TargetBind
trigger1 = Time <= 12 && FVar(3)
pos = 40, 0
;-----

[State 910, TargetBind]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 50, 0
[State 750]
type = targetVelset
trigger1 = AnimElemTime(2) >= 0 && animelemtime(7) < 0
x = (12*exp((-0.0825)*(time-12)))

[State 0]
type = sprpriority
trigger1 = animelemtime(5) >= 0
value = 3
[State 0]
type = playsnd
trigger1 = animelem = 7
value = 4,5
[State 0]
type = playsnd
trigger1 = time = 13
value = 14,random%2+2
channel = 0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 8
attr = S, NA  
damage = 130,0
animtype = Hard
guardflag = 
hitflag = MAFD
;--------------------------------------------
pausetime = 0,4
guard.pausetime = 0,4
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,5
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = 6,-6
air.velocity     = 6,-6
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+4
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=702
p2stateno = 711

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,62*1.5,62)
persistent = 0
ignorehitpause = 1

[State 0, Explod]
type = null;Explod
trigger1 = movehit && numtarget(702)
pos = 10,-80
anim = 6023+random%2
id = 6023
scale = 1,1
postype = p2
bindtime = 1
angle = random
removetime = -2
sprpriority = 99
ignorehitpause = 1
removeongethit = 1
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 0]
type = Helper
trigger1 = movehit && numtarget(702)
pos = 10,-80
postype = p2
stateno = 4003
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(702)
pos = 10,-80
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = turn
trigger1 = animtime = 0

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;--------------------------------
;Throw (p2 state)
[Statedef 703]
type=A
movetype=H
physics=N
sprpriority = 2
velset=0,0

[State 810,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 703
;--------------------------------
;Throw (p2 state)
[Statedef 704]
type=A
movetype=H
physics=N
sprpriority = 2
velset=0,0

[State 810,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 705

;------------------
;FRONT HIT (get hit)
[Statedef 711]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 0]
type = changeanim
triggerall = fvar(38) = 786
trigger1 = 1
value = 5956
persistent = 0
[State 5000, 2]
type = ChangeAnim2
trigger1 = 1
value = 706

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 712

;------------------
;FRONT HIT (flying)
[Statedef 712]
type    = A
movetype= H
physics = N

[State 0]
type =playerpush
trigger1 = 1
value = 0

[State 0]
type = hitvelset
trigger1 = time = 0
x = -1
y = -1

[State -2, P2 Safe Fall]
type = changestate
triggerall = alive
triggerall = canrecover
triggerall = enemy,var(32) >= gethitvar(fall.recovertime)
trigger1 = command="recovery"
trigger2 = ailevel != 0
value = 5205
ignorehitpause = 1

[State 5000, 2]
type = ChangeAnim
triggerall = fvar(38) != 786
triggerall = anim != 5030
trigger1 = !time
value = 5030
[State 5000, 2]
type = ChangeAnim
triggerall = fvar(38) != 786
triggerall = anim = 5030
trigger1= animtime = 0
value = 5050

[State 0]
type = changeanim
triggerall = fvar(38) = 786
trigger1 = time = 0
value = 5957

[State 0]
type = veladd
triggerall = gethitvar(chainid) != [830,999]
trigger1 = 1
y = .5

[State 1026, Hit wall]
type = ChangeState
triggerall = time > 2; && pos y < -10
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 713

[State 1026, Hit ground]
type = SelfState
triggerall = gethitvar(chainid) != 900
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;HIT WALL
[Statedef 713]
type    = A
movetype= H
physics = N
facep2 = 1

[State 0]
type = turn
triggerall = time = 0
triggerall = prevstateno = 716
trigger1 = p2dist x < 0
trigger2 = p2dist x > 0

[State 0]
type = varset
triggerall = fvar(38) = 786
trigger1 = time = 0
var(37) = 1

[State 5000, 2]
type = ChangeAnim2
triggerall = fvar(38) != 786
trigger1 = !time
value = 707
[State 5000, 2]
type = ChangeAnim
triggerall = fvar(38) = 786
trigger1 = !time
value = 5953

[State 1027, Turn]
type = null;Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 0]
Type = EnvShake
trigger1 = time = 0
Time  = 11
Ampl  = 5
Freq  = 90

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 714

;---------------------------------------------------------------------------
;FALL DOWN
[Statedef 714]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State -2, P2 Safe Fall]
type = changestate
triggerall = alive
triggerall = canrecover
triggerall = enemy,var(32) >= gethitvar(fall.recovertime)
trigger1 = command="recovery"
trigger2 = enemynear,ailevel != 0
value = 5205
ignorehitpause = 1

[State 5000, 2]
type = ChangeAnim
triggerall = fvar(38) != 786
trigger1 = !time
value = 5070
[State 5000, 2]
type = ChangeAnim
triggerall = fvar(38) = 786
trigger1 = !time
value = 5954

[State 1008, VelSet]
type = VelSet
triggerall = gethitvar(chainid) != 900
trigger1 = !time
x = 3
y = -5
[State 1008, VelSet]
type = VelSet
triggerall = gethitvar(chainid) = 900
trigger1 = !time
x = 5
y = -5

[State 1008, VelAdd]
type = VelAdd
trigger1 = time > 0
y = 0.5

[State 5100, 7]
type = SelfState
trigger1 = time > 0
trigger1 = Vel Y + Pos Y >=0
value = 5100


;------------------
[Statedef 750]
type = S
movetype = A
physics = S
anim = 130
ctrl = 0
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
pos =0,-80
anim = 6020
id = 6020
scale = 1,1
postype = p1
bindtime = -1
angle = random
xangle = 80
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0]
type = modifyexplod
trigger1 = 1
scale = 1+(0.5*(time-0)),1+(0.5*(time-0))
id = 6020
[State 0, Explod]
type = Explod
trigger1 = time = 0
pos =0,-80
anim = 6021
id = 6021
scale = 0.6,0.6
postype = p1
bindtime = -1
angle = random
xangle = 80
removetime = -2
sprpriority = 90
ignorehitpause = 1
removeongethit = 1
ownpal = 1
supermovetime = 999
[State 0]
type = modifyexplod
trigger1 = 1
scale = 0.6+(0.3*(time-0)),0.6+(0.3*(time-0))
id = 6021

[State 0]
type = playsnd
trigger1 = time = 0
value = 0,9

[State 0]
type = removeexplod
trigger1 = time = 0
id = 6500

[State 0]
type = velset
trigger1 = time = 5
x = - 12

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 755

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

;------------------------ ‘ŠŽè‘¤
[Statedef 755]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0, 0
facing = enemy,facing
facep2 = 1

[State -1]
Type = EnvShake
trigger1 = time = 0
Time  = 10
Ampl  = 2
Freq  = 90

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 10
sinadd = 128,128,128,20
invertall = 0
color = 256
persistent = 0
ignorehitpause = 1

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "Hh" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans"
trigger9 = AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1
trigger10 = AuthorName = "KoopaKoot" || AuthorName = "Scal"
trigger11 = AuthorName = "Websta" && fvar(38) != 786
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "Hh" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans"
trigger9 = AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1
value = 5910

[State 0]
type = Changeanim
triggerall = time = 0
trigger1 = fvar(38) = 786
value = 704

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910 && anim != 704
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 4100, Escape in corner (Scal Code)]
type = VelSet
trigger1 = !(EnemyNear, BackEdgedist)
trigger1 = EnemyNear, Vel X
x = (EnemyNear, Vel X)
persistent = 0
ignorehitpause = 1
[State 4100, Friction]
type = VelMul
trigger1 = 1
x = .75

[State 105,End]
type = SelfState
triggerall = fvar(38) != 786
trigger1 = Time >= 29
value = 0
ctrl = 1

[State 105,End]
type = SelfState
triggerall = fvar(38) = 786
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;6B
[Statedef 800]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 800
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,0
[State 0]
type = playsnd
trigger1 = animelem = 6
value = 4,1
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 13,random%7+1
channel = 0

[State 0]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
x = 5

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA  
damage = ceil(fvar(9)),2
animtype = Light
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,15,10)
guard.pausetime = 10, 10
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,0
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =10
ground.slidetime =  10
air.hittime  = 10
;--------------------------------------------
guard.slidetime = 9
guard.hittime = 9
airguard.ctrltime = 11
;--------------------------------------------
ground.velocity     = -1,-7
guard.velocity = -4.5
air.velocity     = -1,-7
;--------------------------------------------
fall.recover = 0
fall.recovertime = ifelse(var(31)<0,0,var(31))+10
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = ifelse(var(7)=1,5,0)
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=800

[State 0]
type = Helper
trigger1 = AnimElem = 3
pos = 40,-60
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 200, 1]
type = HitDef
trigger1 = Animelem = 6
attr = S, NA  
damage = ceil(fvar(9)),4
animtype = Medium
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,1
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 14
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -7,-3.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=801

[State 0]
type = Helper
trigger1 = AnimElem = 6
pos = -5,-100
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(800)
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(800)
fvar(0) = ifelse(numhelper(6005) != 0,2.5*1.5,2.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(800)
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(800)
fvar(35) = ifelse(numhelper(6005) != 0,6*1.5,6)
persistent = 0
ignorehitpause = 1

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(801)
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(801)
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget(801)
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget(801)
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(800)
pos = 10,-60
postype = p2
stateno = 4001
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(800)
pos = 10,-60
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = movehit && numtarget(801)
pos = 10,-70
postype = p2
stateno = 4000
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(801)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3B
[Statedef 810]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 810
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = width
trigger1 = animelemtime(4) >= 0 && animelemtime(8) < 0
player = 40
ignorehitpause = 1

[State 0]
type = playsnd
trigger1 = animelem = 4
value = 4,0
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 13,random%7+1
channel = 0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 4
attr = C, NA  
damage = ceil(fvar(9)),3
animtype = Medium
guardflag = L
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,1
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 13
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-7
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=810

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 4
pos = 90,-13
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(810)
pos = 10,-10
postype = p2
stateno = 4000
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(810)
pos = 10,-10
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;3C
[Statedef 820]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 820
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,2
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 13,random%7+1
channel = 0

[State 0]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 6

[State 200, 1]
type = HitDef
trigger1 = Animelem = 4
attr = C, NA  
damage = ceil(fvar(9)),4
animtype = Up
air.animtype = up
guardflag = M
hitflag = MAFD 
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity     = -1.5,-11
guard.velocity = -6.5
air.velocity     = -1.5,-11
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=820

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 4
pos = 10,-100
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(820)
pos = 10,-70
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(820)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;J.6C
[Statedef 830]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 830
sprpriority = 1

[State 0]
type = playsnd
triggerall = anim = 830
trigger1 = animelem = 2
value = 4,2
[State 0]
type = playsnd
triggerall = anim = 830
trigger1 = animelem = 2
value = 13,0
channel = 0

[State 200, 1]
type = HitDef
triggerall = enemynear,statetype != A
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),2
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 16
;--------------------------------------------
ground.velocity = -6.5
air.velocity     = -18
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 7
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = 0
id=830
[State 200, 1]
type = HitDef
triggerall = enemynear,statetype = A
trigger1 = AnimElem = 3
attr = A, NA  
damage = ceil(fvar(9)),2
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 16
;--------------------------------------------
ground.velocity = -13
air.velocity     = -13
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 7
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = 0
id=830
p2stateno = 711


[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 3
pos = -10,-70
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(830)
pos = 10,-floor(p2dist y)-50
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(830)
pos = 10,-floor(p2dist y)-50
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 0]
type = changeanim
triggerall = anim = 830
trigger1 = animtime = 0
value = 690
[State 0]
type = ctrlset
trigger1 = anim = 690
value = 1

;---------------------------------------------------------------------------
;66B
[Statedef 850]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 850
sprpriority = 1

[State 0]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(6) < 0
player = 30,0
ignorehitpause =  1

[State 0]
type = playsnd
trigger1 = animelem = 3
value = 4,4
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 13,3
channel = 0
[State 200, 1]
type = HitDef
triggerall = enemynear,statetype != S || enemynear,statetype != C
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),0
animtype = Medium
fall.animtype = up
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,4
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 13
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-7
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
;fall.envshake.time =5
;fall.envshake.freq =140
;fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=850
[State 200, 1]
type = HitDef
triggerall = enemynear,statetype = S || enemynear,statetype = C
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),0
animtype = Medium
fall.animtype = up
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 10,ifelse(var(7)=1,17,12)
guard.pausetime = 10, 12
;--------------------------------------------
getpower = 0,0
givepower = 20,10
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,4
guardsound = S3,0
;--------------------------------------------
ground.type = Low
ground.hittime =12
ground.slidetime =  12
air.hittime  = 12
;--------------------------------------------
guard.slidetime = 11
guard.hittime = 11
airguard.ctrltime = 13
;--------------------------------------------
ground.velocity = -5.5
air.velocity     = -1.5,-7
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+12
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 5
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
;fall.envshake.time =5
;fall.envshake.freq =140
;fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=850
p2stateno = 1225

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,10*1.5,10)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,5*1.5,5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,25*1.5,25)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,12*1.5,12)
persistent = 0
ignorehitpause = 1

[State 0, Explod]
type = null;Explod
trigger1 = movehit && numtarget(850)
pos = 0,-60
anim = 6023+random%2
id = 6023
scale = 0.75,0.75
postype = p2
bindtime = 1
angle = random
removetime = -2
sprpriority = 99
ignorehitpause = 1
removeongethit = 1
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 0]
type = Helper
trigger1 = movehit && numtarget(850)
pos = 0,-60
postype = p2
stateno = 4004
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(850)
pos = 0,-60
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;66C
[Statedef 860]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 860
sprpriority = -1

[State 0]
type = playsnd
trigger1 = animelem = 1
value = 0,1

[State 750]
type = Velset
trigger1 = AnimElemTime(1) >= 0
x = (13*exp((-0.0825)*(time-0)))

[State 0]
type = playerpush
trigger1 = animelemtime(2) > 0 && animelemtime(8) < 0
value = 0
ignorehitpause = 1

[State 0]
type = varset
trigger1 = p2dist x < 0
var(0) = 1

[State 0]
type = playsnd
trigger1 = animelem = 6
value = 4,2
[State 0]
type = playsnd
trigger1 = animelem = 1
value = 13,random%7+1
channel = 0

[State 200, 1]
type = HitDef
triggerall = anim = 860
triggerall = enemynear,statetype != S || enemynear,statetype != C
trigger1 = Animelem = 7
attr = A, NA  
damage = ceil(fvar(9)),4
animtype = Hard
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = ifelse(var(0)=1,6.5,-6.5)
air.velocity     = -1.5,-7.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=860
p2sprpriority = 3
[State 200, 1]
type = HitDef
triggerall = anim = 860
triggerall = enemynear,statetype = S || enemynear,statetype = C
trigger1 = Animelem = 7
attr = A, NA  
damage = ceil(fvar(9)),4
animtype = Hard
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 12,ifelse(var(7)=1,19,14)
guard.pausetime = 12, 14
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = High
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = ifelse(var(0)=1,6.5,-6.5)
air.velocity     = -1.5,-7.5
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+14
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
;fall.envshake.time =5
;fall.envshake.freq =140
;fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = .5
id=860
p2sprpriority = 3
p2stateno = 1225

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1

[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElem = 7
pos = 0,-85
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(860)
pos = 10,-70
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(860)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 0]
type = changestate
trigger1 = animtime = 0
value = ifelse(var(0)=1,862,861)

;---------------------------------------------------------------------------
;66C
[Statedef 861]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 861
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1= time = 0
anim = 6090
id = 6090
pos = 0,0
scale = 0.5,0.5
postype = p1
bindtime = 1
removetime = -2
sprpriority = 2
ignorehitpause = 1
removeongethit = 0
ownpal = 1
supermovetime = 999

[State 0]
type = velset
trigger1 = time = 0
y = 0

[State 0]
type = posset
trigger1 = time = 0 
y = 0

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;66C
[Statedef 862]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 862
sprpriority = 1

[State 0]
type = turn
trigger1 = time = 0

[State 0, Explod]
type = Explod
trigger1= time = 0
anim = 6090
id = 6090
pos = 0,0
scale = 0.5,0.5
postype = p1
bindtime = 1
removetime = -2
sprpriority = 2
ignorehitpause = 1
removeongethit = 0
ownpal = 1
supermovetime = 999

[State 0]
type = velset
trigger1 = time = 0
y = 0

[State 0]
type = posset
trigger1 = time = 0 
y = 0

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Force Function
[Statedef 900]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 900
sprpriority = 1

[State 5100, 6] ;Reduce speed
type = VelMul
triggerall = vel x != 0
trigger1 = 1
x = 0.85
[State 0]
type = velset
triggerall = prevstateno = 20
trigger1 = time = 0
x = 0

[State 0]
type = null
trigger1 = time = [0,6]
trigger1 = (command = "holdy" && command = "holdz")
trigger1 = var(16) := 1
trigger2 = (command != "holdy" || command != "holdz") && time < 2
trigger2 = var(16) := 0
trigger3 = (command != "holdy" || command != "holdz") && time >= 2 && anim = 900
trigger3 = var(16) := 2
[State 0]
type = changeanim
triggerall = var(16) = 0
trigger1 = anim = 900 && animelemtime(2) = 2
value = 901
[State 0]
type = changeanim
triggerall = var(16) = 1
trigger1 = anim = 900 && animtime = 0
value = 901
[State 0]
type = changeanim
triggerall = var(16) = 2
trigger1 = anim = 900 && animelemtime(2) >= 7
value = 901

[State 0]
type = posadd
triggerall = anim = 900
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 8
[State 0]
type = posadd
triggerall = anim = 901
trigger1 = animelem = 1 && var(16) != 1
x = 8

[State 0]
type = playsnd
triggerall = anim = 901
trigger1 = animelem = 2
value = 4,2
[State 0]
type = playsnd
triggerall = anim = 901
trigger1 = animelem = 2
value = 12,random%5
channel = 0


[State 0]
type = width
triggerall = anim = 901
trigger1 = animelemtime(3) < 0
value = 30,0
ignorehitpause = 1
[State 0]
type = width
triggerall = anim = 901
trigger1 = animelemtime(11) < 0 && animelemtime(3) >= 0
value = 100,0
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = anim = 901 && var(16) = 1
pos = 10,-106
postype = p1
stateno = 4503
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1
[State 0]
type = playsnd
trigger1 = anim = 901 && var(16) = 1
value = 0,11
persistent = 0

[State 200, 1]
type = HitDef
triggerall = anim = 901
triggerall = var(16) != 1
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),6
animtype = Hard
guardflag = M
hitflag = MAFD
;--------------------------------------------
pausetime = 18,ifelse(var(7)=1,25,20)
guard.pausetime = 18, 20
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = -18
guard.velocity = -6.5
air.velocity     = -18
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+18
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = 0
id=900
p2stateno = 711

[State 200, 1]
type = HitDef
triggerall = anim = 901
triggerall = var(16) = 1
trigger1 = Animelem = 3
attr = S, NA  
damage = ceil(fvar(9)),7
animtype = Hard
guardflag = H
hitflag = MAFD
;--------------------------------------------
pausetime = 18,ifelse(var(7)=1,25,20)
guard.pausetime = 18, 20
;--------------------------------------------
getpower = 0,0
givepower = 30,15
;--------------------------------------------
guard.sparkno = S1
sparkno = S1
sparkxy = -15, -45
hitsound = s2,2
guardsound = S3,0
;--------------------------------------------
ground.type = Hard
ground.hittime =14
ground.slidetime =  14
air.hittime  = 14
;--------------------------------------------
guard.slidetime = 13
guard.hittime = 13
airguard.ctrltime = 15
;--------------------------------------------
ground.velocity = -18
guard.velocity = -6.5
air.velocity     = -18
;--------------------------------------------
fall.recovertime = ifelse(var(31)<0,0,var(31))+18
fall = 1
air.fall = 1
;--------------------------------------------
palfx.time = ifelse(var(7)=1,10,0)
palfx.sinadd = 255,0,0,20
;--------------------------------------------
envshake.time = 8
envshake.freq =90
envshake.ampl =1
;--------------------------------------------
fall.envshake.time =5
fall.envshake.freq =140
fall.envshake.ampl =2
;--------------------------------------------
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;--------------------------------------------
yaccel = 0
id=900
p2stateno = 711

[State 0]
type = playsnd
trigger1 = movehit && numtarget
value = 1,12
ignorehitpause = 1
persistent = 0

[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,7.5*1.5,7.5)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,38*1.5,38)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) != 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,19*1.5,19)
persistent = 0
ignorehitpause = 1

[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,26*1.5,26)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(0) = ifelse(numhelper(6005) != 0,15*1.5,15)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = movehit && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,57*1.5,57)
persistent = 0
ignorehitpause = 1
[State 0]
type = varadd
triggerall = var(16) = 1
triggerall = var(12) = 0
trigger1 = moveguarded && numtarget
fvar(35) = ifelse(numhelper(6005) != 0,29*1.5,29)
persistent = 0
ignorehitpause = 1

[State 0]
type = Helper
triggerall = anim = 901
trigger1 = AnimElem = 3
pos = 30,-60
postype = p1
stateno = 4020
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0]
type = Helper
trigger1 = movehit && numtarget(900)
pos = 10,-70
postype = p2
stateno = 4005
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999
[State 0]
type = Helper
trigger1 = moveguarded && numtarget(900)
pos = 10,-70
postype = p2
stateno = 4010
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = StateTypeSet
triggerall = anim = 901
trigger1 = AnimElem = 4
movetype = I

[State 200, 3]
type = ChangeState
triggerall = anim = 901
trigger1 = AnimTime = 0
value = 0
ctrl = 1

